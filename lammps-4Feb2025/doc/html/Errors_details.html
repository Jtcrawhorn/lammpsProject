<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>11.2. Error and warning details &mdash; LAMMPS documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/sphinx-design.min.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/lammps.css" type="text/css" />
    <link rel="shortcut icon" href="_static/lammps.ico"/>
    <link rel="canonical" href="https://docs.lammps.org/Errors_details.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=df2ea5e8"></script>
        <script src="_static/doctools.js?v=9bcbadda"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/design-tabs.js?v=f930bc37"></script>
        <script async="async" src="_static/mathjax/es5/tex-mml-chtml.js?v=cadf963e"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11.3. Reporting bugs" href="Errors_bugs.html" />
    <link rel="prev" title="11.1. Common problems" href="Errors_common.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="Manual.html">
            
              <img src="_static/lammps-logo.png" class="logo" alt="Logo"/>
          </a>
            <div class="lammps_version">Version: <b>4 Feb 2025</b></div>
            <div class="lammps_release">git info: 4Feb2025</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install.html">2. Install LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Build.html">3. Build LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Run_head.html">4. Run LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commands.html">5. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Packages.html">6. Optional packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Speed.html">7. Accelerate performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Howto.html">8. Howto discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">9. Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">10. Auxiliary tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Errors.html">11. Errors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Errors_common.html">11.1. Common problems</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">11.2. Error and warning details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-troubleshooting-advice">11.2.1. General troubleshooting advice</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unknown-identifier-in-data-file">11.2.2. Unknown identifier in data file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#incorrect-format-in-section-of-data-file">11.2.3. Incorrect format in … section of data file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#illegal-variable-command-expected-x-arguments-but-found-y">11.2.4. Illegal variable command: expected X arguments but found Y</a></li>
<li class="toctree-l3"><a class="reference internal" href="#out-of-range-atoms-cannot-compute">11.2.5. Out of range atoms - cannot compute …</a></li>
<li class="toctree-l3"><a class="reference internal" href="#too-many-neighbor-bins">11.2.6. Too many neighbor bins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cannot-use-neighbor-bins-box-size-cutoff">11.2.7. Cannot use neighbor bins - box size &lt;&lt; cutoff</a></li>
<li class="toctree-l3"><a class="reference internal" href="#domain-too-large-for-neighbor-bins">11.2.8. Domain too large for neighbor bins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#molecule-topology-atom-exceeds-system-topology-atom">11.2.9. Molecule topology/atom exceeds system topology/atom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#molecule-topology-type-exceeds-system-topology-type">11.2.10. Molecule topology type exceeds system topology type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#molecule-attributes-do-not-match-system-attributes">11.2.11. Molecule attributes do not match system attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Errors_bugs.html">11.3. Reporting bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Errors_debug.html">11.4. Debugging crashes</a></li>
<li class="toctree-l2"><a class="reference internal" href="Errors_debug.html#debugging-when-lammps-appears-to-be-stuck">11.5. Debugging when LAMMPS appears to be stuck</a></li>
<li class="toctree-l2"><a class="reference internal" href="Errors_messages.html">11.6. Error messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="Errors_warnings.html">11.7. Warning messages</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programmer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Library.html">1. LAMMPS Library Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_head.html">2. Use Python with LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modify.html">3. Modifying &amp; extending LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer.html">4. Information for Developers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Command Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="commands_list.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixes.html">Fix Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="computes.html">Compute Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="pairs.html">Pair Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="bonds.html">Bond Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="angles.html">Angle Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dihedrals.html">Dihedral Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="impropers.html">Improper Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dumps.html">Dump Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="fix_modify_atc_commands.html">fix_modify AtC commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="Manual.html">LAMMPS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="Manual.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Errors.html"><span class="section-number">11. </span>Errors</a></li>
      <li class="breadcrumb-item active"><span class="section-number">11.2. </span>Error and warning details</li>
      <li class="wy-breadcrumbs-aside">
          <a href="https://www.lammps.org"><img src="_static/lammps-logo.png" width="64" height="16" alt="LAMMPS Homepage"></a> | <a href="Commands_all.html">Commands</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="Errors_common.html" class="btn btn-neutral float-left" title="11.1. Common problems" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Errors_bugs.html" class="btn btn-neutral float-right" title="11.3. Reporting bugs" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><span class="math notranslate nohighlight">\(\renewcommand{\AA}{\text{Å}}\)</span></p>
<section id="error-and-warning-details">
<h1><span class="section-number">11.2. </span>Error and warning details<a class="headerlink" href="#error-and-warning-details" title="Link to this heading"></a></h1>
<p>Many errors or warnings are self-explanatory and thus straightforward to
resolve.  However, there are also cases, where there is no single cause
and explanation, where LAMMPS can only detect symptoms of an error but
not the exact cause, or where the explanation needs to be more detailed
than what can be fit into a message printed by the program.  The
following are discussions of such cases.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#err0001"><span class="std std-ref">Unknown identifier in data file</span></a></p></li>
<li><p><a class="reference internal" href="#err0002"><span class="std std-ref">Incorrect format in … section of data file</span></a></p></li>
<li><p><a class="reference internal" href="#err0003"><span class="std std-ref">Illegal variable command: expected X arguments but found Y</span></a></p></li>
<li><p><a class="reference internal" href="#err0004"><span class="std std-ref">Out of range atoms - cannot compute …</span></a></p></li>
<li><p><a class="reference internal" href="#err0009"><span class="std std-ref">Too many neighbor bins</span></a></p></li>
<li><p><a class="reference internal" href="#err0015"><span class="std std-ref">Cannot use neighbor bins - box size &lt;&lt; cutoff</span></a></p></li>
<li><p><a class="reference internal" href="#err0017"><span class="std std-ref">Domain too large for neighbor bins</span></a></p></li>
<li><p><a class="reference internal" href="#err0024"><span class="std std-ref">Molecule topology/atom exceeds system topology/atom</span></a></p></li>
<li><p><a class="reference internal" href="#err0025"><span class="std std-ref">Molecule topology type exceeds system topology type</span></a></p></li>
<li><p><a class="reference internal" href="#err0026"><span class="std std-ref">Molecule attributes do not match system attributes</span></a></p></li>
</ul>
<hr class="docutils" />
<section id="general-troubleshooting-advice">
<h2><span class="section-number">11.2.1. </span>General troubleshooting advice<a class="headerlink" href="#general-troubleshooting-advice" title="Link to this heading"></a></h2>
<p>Below are suggestions that can help to understand the causes of problems
with simulations leading to errors or unexpected results.</p>
<section id="create-a-small-test-system">
<h3>Create a small test system<a class="headerlink" href="#create-a-small-test-system" title="Link to this heading"></a></h3>
<p>Debugging problems often requires running a simulation many times with
small modifications, thus it can be a huge time saver to first assemble
a small test system input that has the same issue, but will take much
time until it triggers the error condition.  Also, it will be easier to
see what happens.</p>
</section>
<section id="visualize-your-trajectory">
<h3>Visualize your trajectory<a class="headerlink" href="#visualize-your-trajectory" title="Link to this heading"></a></h3>
<p>To better understand what is causing problems, it is often very useful
to visualize the system close to the point of failure.  It may be
necessary to have LAMMPS output trajectory frames rather frequently.  To
avoid gigantic files, you can use <a class="reference internal" href="dump_modify.html"><span class="doc">dump_modify delay</span></a>
to delay output until the critical section is reached, and you can use a
smaller test system (see above).</p>
</section>
<section id="parallel-versus-serial">
<h3>Parallel versus serial<a class="headerlink" href="#parallel-versus-serial" title="Link to this heading"></a></h3>
<p>Issues where something is “lost” or “missing” often exhibit that issue
only when running in parallel.  That doesn’t mean there is no problem,
only the symptoms are not triggering an error quickly.  Correspondingly,
errors may be triggered faster with more processors and thus smaller
sub-domains.</p>
</section>
<section id="fast-moving-atoms">
<h3>Fast moving atoms<a class="headerlink" href="#fast-moving-atoms" title="Link to this heading"></a></h3>
<p>Fast moving atoms may be “lost” or “missing” when their velocity becomes
so large that they can cross a sub-domain within one timestep.  This
often happens when atoms are too close, but atoms may also “move” too
fast from sub-domain to sub-domain if the box changes rapidly, e.g. when
setting a large an initial box with <a class="reference internal" href="boundary.html"><span class="doc">shrink-wrap boundary
conditions</span></a> that collapses on the first step (in this case
the solution is often using ‘m’ instead of ‘s’ as boundary condition).</p>
<p>To reduce the impact of “close contacts”, one can remove those atoms or
molecules with something like <a class="reference internal" href="delete_atoms.html"><span class="doc">delete_atoms overlap 0.1 all all</span></a>.  With periodic boundaries, a close contact pair of atoms
may be on opposite sides of the simulation box.  Another option would be
to first run a minimization (aka quench) before starting the MD.  Reducing
the time step can also help.  Many times, one just needs to “ease” the
system into a balanced state and can then switch to more aggressive settings.</p>
<p>The speed of atoms during an MD depends on the steepness of the
potential function and their mass.  Since the positions and velocities
of atoms are computed with finite timesteps, they choice of timestep can
be too large for a stable numeric integration of the trajectory.  In
those cases using (temporarily) <a class="reference internal" href="fix_nve_limit.html"><span class="doc">fix nve/limit</span></a> or
<a class="reference internal" href="fix_dt_reset.html"><span class="doc">fix dt/reset</span></a> can help to avoid too large updates
or adapt the timestep according to the displacements.</p>
</section>
<section id="pressure-forces-positions-becoming-nan-of-inf">
<h3>Pressure, forces, positions becoming NaN of Inf<a class="headerlink" href="#pressure-forces-positions-becoming-nan-of-inf" title="Link to this heading"></a></h3>
<p>Some potentials can overflow or have a division by zero with close contacts
or bad geometries (for the given force styles in use) leading to forces
that can no longer be represented as numbers.  Those will show as “NaN” or
“Inf”.  On most machines, the program will continue, but there is no way
to recover from it and those NaN or Inf values will propagate.  So-called
<a class="reference internal" href="pair_fep_soft.html"><span class="doc">“soft-core” potentials</span></a> or the <a class="reference internal" href="pair_soft.html"><span class="doc">“soft” repulsive-only
pair style</span></a> are less prone for this behavior (depending on the
settings in use) and can be used at the beginning of a simulation.  Also,
single precision numbers can overflow much faster, so for the GPU or INTEL
package it may be beneficial to run with double precision initially before
switching to mixed or single precision for faster execution when the system
has relaxed.</p>
</section>
<section id="communication-cutoff">
<h3>Communication cutoff<a class="headerlink" href="#communication-cutoff" title="Link to this heading"></a></h3>
<p>The communication cutoff determines the “overlap” between sub-domains
and atoms in these regions are referred to in LAMMPS as “ghost atoms”.
This region has to be large enough to contain all atoms of a bond,
angle, dihedral or improper with just one atom in the actual sub-domain.
Typically, this cutoff is set to the largest cutoff from the <a class="reference internal" href="pair_style.html"><span class="doc">pair
style(s)</span></a> plus the <a class="reference internal" href="neighbor.html"><span class="doc">neighbor list skin distance</span></a> and will be more than sufficient for all bonded
interactions.  But if the pair style cutoff is small this may bot be
enough.  LAMMPS will print a warning in this case using some heuristic
based on the equilibrium bond length, but that may not be sufficient for
cases where the force constants are small and thus bonds may be
stretched very far.  The communication cutoff can be adjusted with
<a class="reference internal" href="comm_modify.html"><span class="doc">comm_modify cutoff &lt;value&gt;</span></a>, but setting this too
large will waste CPU time and memory.</p>
</section>
<section id="neighbor-list-settings">
<h3>Neighbor list settings<a class="headerlink" href="#neighbor-list-settings" title="Link to this heading"></a></h3>
<p>Every time LAMMPS rebuilds the neighbor lists, LAMMPS will also check
for “lost” or “missing” atoms.  Thus it can help to use very
conservative <a class="reference internal" href="neigh_modify.html"><span class="doc">neighbor list settings</span></a> and then
examine the neighbor list statistics if the neighbor list rebuild can be
safely delayed.  Rebuilding the neighbor list less frequently
(i.e. through increasing the <em>delay</em> or <em>every</em> setting has diminishing
returns and increasing risks).</p>
</section>
<section id="ignoring-lost-atoms">
<h3>Ignoring lost atoms<a class="headerlink" href="#ignoring-lost-atoms" title="Link to this heading"></a></h3>
<p>It is tempting to use the <a class="reference internal" href="thermo_modify.html"><span class="doc">thermo_modify lost ignore</span></a>
to avoid that LAMMPS stops with an error.  This setting should, however,
<em>only</em> be used when atoms <em>should</em> leave the system.  In general, ignoring
a problem does not solve it.</p>
</section>
<section id="units">
<h3>Units<a class="headerlink" href="#units" title="Link to this heading"></a></h3>
<p>A frequent cause for a variety of problems is due to using the wrong
<a class="reference internal" href="units.html"><span class="doc">units</span></a> settings for a particular potentials, especially
when reading them from a potential file.  Most of the (example)
potentials bundled with LAMMPS have a “UNITS:” tag that allows LAMMPS to
check of the units are consistent with what is intended, but potential
files from publications or potential parameter databases may lack this
metadata information and thus will not error out or warn when using the
wrong setting.  Most potential files usually use “metal” units, but some
are parameterized for other settings, most notably <a class="reference internal" href="pair_reaxff.html"><span class="doc">ReaxFF
potentials</span></a> that use “real” units.</p>
<p>Also, individual parameters for <a class="reference internal" href="pair_coeff.html"><span class="doc">pair_coeff</span></a> commands
taken from publications or other MD software, may need to be converted
and sometimes in unexpected ways.  Thus some careful checking is
recommended.</p>
</section>
<section id="no-error-message-printed">
<h3>No error message printed<a class="headerlink" href="#no-error-message-printed" title="Link to this heading"></a></h3>
<p>In some cases - especially when running in parallel with MPI - LAMMPS
may stop without displaying an error.  But that does not mean, that
there was no error message, instead it is highly likely that the message
was written to a buffer and LAMMPS was aborted before the buffer was
output.  Usually, output buffers are output for every line of output,
but sometimes, this is delayed until 4096 or 8192 bytes of output have
been accumulated.  This buffering for screen and logfile output can be
disabled by using the <a class="reference internal" href="Run_options.html#nonbuf"><span class="std std-ref">-nb or -nonbuf</span></a> command-line flag.
This is most often needed when debugging crashing multi-replica
calculations.</p>
<hr class="docutils" />
</section>
</section>
<section id="unknown-identifier-in-data-file">
<span id="err0001"></span><h2><span class="section-number">11.2.2. </span>Unknown identifier in data file<a class="headerlink" href="#unknown-identifier-in-data-file" title="Link to this heading"></a></h2>
<p>This error happens when LAMMPS encounters a line of text with an
unexpected keyword while <a class="reference internal" href="read_data.html"><span class="doc">reading a data file</span></a>.  This
would be either header keywords or section header keywords.  This is
most commonly due to a mistyped keyword or due to a keyword that is
inconsistent with the <a class="reference internal" href="atom_style.html"><span class="doc">atom style</span></a> used.</p>
<p>The header section informs LAMMPS how many entries or lines are expected
in the various sections (like Atoms, Masses, Pair Coeffs, <em>etc.</em>) of
the data file.  If there is a mismatch, LAMMPS will either keep reading
beyond the end of a section or stop reading before the section has
ended.  In that case the next line will not contain a recognized keyword.</p>
<p>Such a mismatch can also happen when the first line of the data
is <em>not</em> a comment as required by the format, but a line with a valid
header keyword.  That would result in LAMMPS expecting, for instance,
0 atoms because the “atoms” header line is the first line and thus
treated as a comment.</p>
<p>Another possibility to trigger this error is to have a keyword in the
data file that corresponds to a fix (e.g. <a class="reference internal" href="fix_cmap.html"><span class="doc">fix cmap</span></a>)
but the <a class="reference internal" href="read_data.html"><span class="doc">read_data</span></a> command is missing the (optional)
arguments that identify the fix and the header keyword and section
keyword or those arguments are inconsistent with the keywords in the
data file.</p>
</section>
<section id="incorrect-format-in-section-of-data-file">
<span id="err0002"></span><h2><span class="section-number">11.2.3. </span>Incorrect format in … section of data file<a class="headerlink" href="#incorrect-format-in-section-of-data-file" title="Link to this heading"></a></h2>
<p>This error happens when LAMMPS reads the contents of a section of a
<a class="reference internal" href="read_data.html"><span class="doc">data file</span></a> and the number of parameters in the line
differs from what is expected.  This most commonly happens, when the
atom style is different from what is expected for a specific data file
since changing the atom style usually changes the format of the line.</p>
<p>This error can also happen when the number of entries indicated in the
header of a data file (e.g. the number of atoms) is larger than the
number of lines provided (e.g. in the corresponding Atoms section)
and then LAMMPS will continue reading into the next section and that
would have a completely different format.</p>
</section>
<section id="illegal-variable-command-expected-x-arguments-but-found-y">
<span id="err0003"></span><h2><span class="section-number">11.2.4. </span>Illegal variable command: expected X arguments but found Y<a class="headerlink" href="#illegal-variable-command-expected-x-arguments-but-found-y" title="Link to this heading"></a></h2>
<p>This error indicates that there are the wrong number of arguments for a
specific variable command, but a common reason for that is a variable
expression that has whitespace but is not enclosed in single or double
quotes.</p>
<p>To explain, the LAMMPS input parser reads and processes lines.  The
resulting line is broken down into “words”.  Those are usually
individual commands, labels, names, values separated by whitespace (a
space or tab character).  For “words” that may contain whitespace, they
have to be enclosed in single (’) or double (”) quotes.  The parser will
then remove the outermost pair of quotes and then pass that string as
“word” to the variable command.</p>
<p>Thus missing quotes or accidental extra whitespace will lead to the
error shown in the header because the unquoted whitespace will result
in the text being broken into more “words”, i.e. the variable expression
being split.</p>
</section>
<section id="out-of-range-atoms-cannot-compute">
<span id="err0004"></span><h2><span class="section-number">11.2.5. </span>Out of range atoms - cannot compute …<a class="headerlink" href="#out-of-range-atoms-cannot-compute" title="Link to this heading"></a></h2>
<p>The PPPM (and also PPPMDisp and MSM) methods require to assemble a grid
of electron density data derived from the (partial) charges assigned to
the atoms.  This charges are smeared out across multiple grid points
(see <a class="reference internal" href="kspace_modify.html"><span class="doc">kspace_modify order</span></a>).  When running in
parallel with MPI, LAMMPS uses a <a class="reference internal" href="Developer_par_part.html"><span class="doc">domain decomposition scheme</span></a> where each processor manages a subset of atoms and
thus also a grid representing the density, which covers the actual
volume of the sub-domain and some extra space corresponding to the
<a class="reference internal" href="neighbor.html"><span class="doc">neighbor list skin</span></a>.  These are then <a class="reference internal" href="Developer_par_long.html"><span class="doc">combined and
redistributed</span></a> for parallel processing of the
long-range component of the Coulomb interaction.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Out</span> <span class="pre">of</span> <span class="pre">range</span> <span class="pre">atoms</span></code> error can happen, when atoms move too fast or
the neighbor list skin is too small or the neighbor lists are not
updated frequently enough.  Then the smeared charges cannot be fully
assigned to the density grid for all atoms.  LAMMPS checks for this
condition and stops with an error.  Most of the time, this is an
indication of a system with very high forces, most often at the
beginning of a simulation or when boundary conditions are changed.  The
error becomes more likely with more MPI processes.</p>
<p>There are multiple options to explore for avoiding the error.  The best
choice depends strongly on the individual system, and often a
combination of changes is required.  For example, more conservative MD
parameter settings can be used (larger neighbor skin, shorter time step,
more frequent neighbor list updates).  Sometimes, it helps to revisit
the system generation and avoid close contacts when building it, or use
the <a class="reference internal" href="delete_atoms.html"><span class="doc">delete_atoms overlap</span></a> command to delete those
close contact atoms, or run a minimization before the MD.  It can also
help to temporarily use a cutoff-Coulomb pair style and no kspace style
until the system has somewhat equilibrated and then switch to the
long-range solver.</p>
</section>
<section id="too-many-neighbor-bins">
<span id="err0009"></span><h2><span class="section-number">11.2.6. </span>Too many neighbor bins<a class="headerlink" href="#too-many-neighbor-bins" title="Link to this heading"></a></h2>
<p>The simulation box has become too large relative to the size of a
neighbor bin and LAMMPS is unable to store the needed number of
bins. This typically implies the simulation box has expanded too far.
This can happen when some atoms move rapidly apart with shrink-wrap
boundaries or when a fix (like fix deform or a barostat) excessively
grows the simulation box.</p>
</section>
<section id="cannot-use-neighbor-bins-box-size-cutoff">
<span id="err0015"></span><h2><span class="section-number">11.2.7. </span>Cannot use neighbor bins - box size &lt;&lt; cutoff<a class="headerlink" href="#cannot-use-neighbor-bins-box-size-cutoff" title="Link to this heading"></a></h2>
<p>LAMMPS is unable to build neighbor bins since the size of the box is
much smaller than an interaction cutoff in at least one of its dimensions.
Typically, this error is triggered when the simulation box has one very
thin dimension. If a cubic neighbor bin had to fit exactly within
the thin dimension, then an inordinate amount of bins would be created to
fill space. This error can be avoided using the generally slower
<a class="reference internal" href="neighbor.html"><span class="doc">nsq neighbor style</span></a> or by increasing the size of the
smallest box lengths.</p>
</section>
<section id="domain-too-large-for-neighbor-bins">
<span id="err0017"></span><h2><span class="section-number">11.2.8. </span>Domain too large for neighbor bins<a class="headerlink" href="#domain-too-large-for-neighbor-bins" title="Link to this heading"></a></h2>
<p>The domain has become extremely large so that neighbor bins cannot
be used. Too many neighbor bins would need to be created to fill space
Most likely, one or more atoms have been blown out of the simulation
box to a great distance or a fix (like fix deform or a barostat) has
excessively grown the simulation box.</p>
</section>
<section id="molecule-topology-atom-exceeds-system-topology-atom">
<span id="err0024"></span><h2><span class="section-number">11.2.9. </span>Molecule topology/atom exceeds system topology/atom<a class="headerlink" href="#molecule-topology-atom-exceeds-system-topology-atom" title="Link to this heading"></a></h2>
<p>LAMMPS uses <a class="reference internal" href="Developer_par_part.html"><span class="doc">domain decomposition</span></a> to
distribute data (i.e. atoms) across the MPI processes in parallel runs.
This includes topology data, that is data about bonds, angles,
dihedrals, impropers and <a class="reference internal" href="special_bonds.html"><span class="doc">“special” neighbors</span></a>.
This information is stored with either one or all atoms involved in such
a topology entry (which of the two option applies depends on the
<a class="reference internal" href="newton.html"><span class="doc">newton</span></a> setting for bonds. When reading a data file,
LAMMPS analyzes the requirements for this file and then the values
are “locked in” and cannot be extended.</p>
<p>So loading a molecule file that requires more of the topology per atom
storage or adding a data file with such needs will lead to an error.  To
avoid the error, one or more of the <cite>extra/XXX/per/atom</cite> keywords are
required to extend the corresponding storage.  It is no problem to
choose those numbers generously and have more storage reserved than
actually needed, but having these numbers set too small will lead to an
error.</p>
</section>
<section id="molecule-topology-type-exceeds-system-topology-type">
<span id="err0025"></span><h2><span class="section-number">11.2.10. </span>Molecule topology type exceeds system topology type<a class="headerlink" href="#molecule-topology-type-exceeds-system-topology-type" title="Link to this heading"></a></h2>
<p>The total number of atom, bond, angle, dihedral, and improper types is
“locked in” when LAMMPS creates the simulation box. This can happen
through either the <a class="reference internal" href="create_box.html"><span class="doc">create_box</span></a>, the <a class="reference internal" href="read_data.html"><span class="doc">read_data</span></a>, or the <a class="reference internal" href="read_restart.html"><span class="doc">read_restart</span></a> command.  After
this it is not possible to refer to an additional type. So loading a
molecule file that uses additional types or adding a data file that
would require additional types will lead to an error.  To avoid the
error, one or more of the <cite>extra/XXX/types</cite> keywords are required to
extend the maximum number of the individual types.</p>
</section>
<section id="molecule-attributes-do-not-match-system-attributes">
<span id="err0026"></span><h2><span class="section-number">11.2.11. </span>Molecule attributes do not match system attributes<a class="headerlink" href="#molecule-attributes-do-not-match-system-attributes" title="Link to this heading"></a></h2>
<p>Choosing an <a class="reference internal" href="atom_style.html"><span class="doc">atom_style</span></a> in LAMMPS determines which
per-atom properties are available.  In a <a class="reference internal" href="molecule.html"><span class="doc">molecule file</span></a>, however, it is possible to add sections (for example Masses
or Charges) that are not supported by the atom style.  Masses for
example, are usually not a per-atom property, but defined through the
atom type.  Thus it would not be required to have a Masses section and
the included data would be ignored.  LAMMPS prints this warning to
inform about this case.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Errors_common.html" class="btn btn-neutral float-left" title="11.1. Common problems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Errors_bugs.html" class="btn btn-neutral float-right" title="11.3. Reporting bugs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2003-2025 Sandia Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>